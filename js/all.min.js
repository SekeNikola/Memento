// CLOCK
//   TODO
//   QUOTES
//  WEATHER
// var desc;
function renderTime(){var t=new Date,e=t.getHours(),o=t.getMinutes()
0==e?e=12:e>12&&(e-=12),e<10&&(e="0"+e),o<10&&(o="0"+o),document.getElementById("clock").textContent=e+":"+o,setTimeout("renderTime()",1e3)}function get_todos(){var t=new Array,e=localStorage.getItem("todo")
return null!==e&&(t=JSON.parse(e)),t}function add(){var t=document.getElementById("task").value,e=get_todos()
return e.push(t),localStorage.setItem("todo",JSON.stringify(e)),$("input:text").val(""),show(),!1}function remove(){var t=this.getAttribute("id"),e=get_todos()
return e.splice(t,1),localStorage.setItem("todo",JSON.stringify(e)),show(),!1}function show(){for(var t=get_todos(),e="<ul>",o=0;o<t.length;o++)e+="<li>"+t[o]+'<button class="remove" id="'+o+'">x</button></li>'
e+="</ul>",document.getElementById("todos").innerHTML=e
for(var n=document.getElementsByClassName("remove"),o=0;o<n.length;o++)n[o].addEventListener("click",remove)}function update(t){loc.innerHTML=t.location,temp.innerHTML=t.temp}function updateByGeo(t,e){sendRequest("https://api.openweathermap.org/data/2.5/weather?lat="+t+"&lon="+e+"&APPID="+APPID)}function updateByZip(t){sendRequest("https://api.openweathermap.org/data/2.5/weather?zip="+t+"&APPID="+APPID)}function sendRequest(t){var e=new XMLHttpRequest
e.onreadystatechange=function(){if(4==e.readyState&&200==e.status){var t=JSON.parse(e.responseText),o={}
o.code=t.weather[0].id,o.location=t.name,$("#icon").html("<img src='http://openweathermap.org/img/w/"+t.weather[0].icon+".png' alt='Icon depicting current weather.'>"),o.temp=K2C(t.main.temp),update(o)}},e.open("GET",t,!0),e.send()}function K2F(t){return Math.round(1.8*t-459.67)}function K2C(t){return Math.round(t-273.15)}renderTime(),document.getElementById("add").addEventListener("click",add),show(),$(document).ready(function(){function t(){$.ajax({url:"https://api.forismatic.com/api/1.0/",jsonp:"jsonp",dataType:"jsonp",data:{method:"getQuote",lang:"en",format:"jsonp"},success:function(t){e=t.quoteText,o=t.quoteAuthor,$("#quote").text('"'+e+'"'),o?$("#author").text("said by "+o):$("#author").text("-unknown")}})}var e,o
t(),$(".get-quote").on("click",function(e){e.preventDefault(),t(),$(".quote-box").fadeOut("fast").fadeIn("slow")}),$(".share-quote").on("click",function(t){t.preventDefault(),window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent('"'+e+'" - '+o+"- share with Memento by Seke Nikola"),"twitter-popup","height=350,width=600")})})
var APPID="8fe3ad3bbb7be5102e0bde65ce9a7ac3",temp,loc
window.onload=function(){if(temp=document.getElementById("temperature"),loc=document.getElementById("location"),navigator.geolocation){var t=function(t){updateByGeo(t.coords.latitude,t.coords.longitude)}
navigator.geolocation.getCurrentPosition(t)}else{updateByZip(window.prompt("Could not discover your location. What is your zip code?"))}}
